<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerenciador de Credenciais VPN</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>游댏 Gerenciador de Credenciais VPN</h1>
                <button type="button" class="btn-dark-mode" id="darkModeBtn" title="Alternar modo escuro">
                    <span class="dark-mode-icon">游땕</span>
                </button>
            </div>
        </header>

        <div class="main-content">
            <!-- Bot칚o Admin para Importar Credenciais -->
            <div class="admin-section">
                <button type="button" class="btn-admin" id="adminImportBtn">
                    丘뙖잺 Importar Credenciais (Admin)
                </button>
                <button type="button" class="btn-logout hidden" id="logoutBtn">
                    Sair (Admin)
                </button>
            </div>

            <!-- Modal de Login Admin -->
            <div id="adminModal" class="modal hidden">
                <div class="modal-content">
                    <span class="close-modal" id="closeModal">&times;</span>
                    <h2>Login Administrador</h2>
                    <form id="adminLoginForm">
                        <div class="form-group">
                            <label for="adminUser">Usu치rio</label>
                            <input type="text" id="adminUser" required placeholder="admin">
                        </div>
                        <div class="form-group">
                            <label for="adminPassword">Senha</label>
                            <input type="password" id="adminPassword" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Entrar</button>
                        <div id="adminError" class="alert alert-error hidden"></div>
                    </form>
                </div>
            </div>

            <!-- Se칞칚o de Upload (oculta por padr칚o) -->
            <section class="card hidden" id="uploadSection">
                <h2>Upload de Credenciais</h2>
                <div class="upload-area" id="uploadArea">
                    <input type="file" id="fileInput" accept=".csv,.txt,.xlsx,.xls" style="display: none;">
                    <div class="upload-content">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <p>Clique para fazer upload do arquivo de credenciais</p>
                        <p class="file-format">Formatos aceitos: CSV, TXT, XLSX</p>
                    </div>
                </div>
                <div id="fileInfo" class="file-info hidden"></div>
            </section>

            <!-- Se칞칚o de Gera칞칚o -->
            <section class="card">
                <h2>Gerar Nova Credencial</h2>
                <form id="generateForm">
                    <div class="form-group">
                        <label for="userName">Nome do Usu치rio *</label>
                        <input type="text" id="userName" required placeholder="Digite seu nome">
                    </div>

                    <div class="form-group">
                        <label for="branchNumber">N칰mero da Filial *</label>
                        <input type="text" id="branchNumber" required placeholder="Ex: 001, 123">
                    </div>

                    <div class="form-group">
                        <label for="userPassword">Senha do Usu치rio (4 d칤gitos) *</label>
                        <input type="password" id="userPassword" required maxlength="4" pattern="[0-9]{4}" placeholder="0000">
                    </div>

                    <button type="submit" class="btn btn-primary" id="generateBtn">
                        Gerar Credencial VPN
                    </button>
                </form>
            </section>

            <!-- Resultado da Gera칞칚o -->
            <section class="card hidden" id="resultCard">
                <h2>Credencial Gerada</h2>
                <div class="result-content">
                    <div class="result-item">
                        <span class="label">Usu치rio VPN:</span>
                        <span class="value" id="resultVpnUser"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Senha VPN:</span>
                        <span class="value" id="resultVpnPassword"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Gerado por:</span>
                        <span class="value" id="resultGeneratedBy"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Filial:</span>
                        <span class="value" id="resultBranch"></span>
                    </div>
                    <div class="result-item">
                        <span class="label">Data/Hora:</span>
                        <span class="value" id="resultDateTime"></span>
                    </div>
                </div>
            </section>

            <!-- Aviso de Credenciais Baixas -->
            <section class="card hidden" id="warningCard">
                <h2>丘멆잺 Aviso: Credenciais Limitadas</h2>
                <div class="warning-content">
                    <p><strong>Aten칞칚o!</strong> Restam apenas <span id="availableCount" class="warning-count">0</span> credencial(is) dispon칤vel(eis).</p>
                    <p>Por favor, entre em contato com o administrador para fazer upload de novas credenciais.</p>
                </div>
            </section>

            <!-- Se칞칚o de Relat칩rio -->
            <section class="card">
                <h2>Relat칩rios</h2>
                <button type="button" class="btn btn-secondary" id="exportBtn">
                    游늵 Exportar Relat칩rio para Excel
                </button>
                <div id="stats" class="stats"></div>
            </section>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
