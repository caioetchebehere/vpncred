<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gerenciamento de Credenciais VPN</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <!-- Dashboard Principal -->
    <div id="dashboardScreen">
        <header>
            <h1>Sistema de Gerenciamento de Credenciais VPN</h1>
            <button id="themeToggle" class="theme-toggle" title="Alternar modo escuro/claro">
                <span class="theme-icon">游깿</span>
            </button>
        </header>

        <div class="container">
            <!-- Estat칤sticas -->
            <div class="stats-container">
                <div class="stat-card">
                    <h3>Credenciais Dispon칤veis</h3>
                    <p id="availableCount" class="stat-number">0</p>
                    <div id="lowStockWarning" class="warning hidden">
                        丘멆잺 Menos de 50 credenciais dispon칤veis!
                    </div>
                </div>
                <div class="stat-card">
                    <h3>Credenciais Utilizadas</h3>
                    <p id="usedCount" class="stat-number">0</p>
                </div>
                <div class="stat-card">
                    <h3>Total de Credenciais</h3>
                    <p id="totalCount" class="stat-number">0</p>
                </div>
            </div>

            <!-- Upload de Credenciais (Apenas Admin) -->
            <div id="adminSection" class="section">
                <h2>Upload de Credenciais (Admin)</h2>
                <div id="adminAuthSection">
                    <div class="admin-auth-container">
                        <p>Para fazer upload de credenciais, 칠 necess치rio autentica칞칚o de administrador.</p>
                        <form id="adminAuthForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="adminUsername">Usu치rio Admin:</label>
                                    <input type="text" id="adminUsername" required>
                                </div>
                                <div class="form-group">
                                    <label for="adminPassword">Senha Admin:</label>
                                    <input type="password" id="adminPassword" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Autenticar</button>
                        </form>
                        <div id="adminAuthError" class="error-message"></div>
                    </div>
                </div>
                <div id="uploadSection" class="hidden">
                    <div class="upload-container">
                        <input type="file" id="credentialFile" accept=".txt" class="file-input">
                        <label for="credentialFile" class="file-label">
                            <span>Selecionar arquivo TXT</span>
                        </label>
                        <button id="uploadBtn" class="btn btn-primary">Upload</button>
                        <button id="logoutAdminBtn" class="btn btn-secondary">Sair do Modo Admin</button>
                        <div id="uploadStatus" class="status-message"></div>
                    </div>
                </div>
            </div>

            <!-- Gera칞칚o de Credenciais -->
            <div class="section">
                <h2>Gerar Nova Credencial</h2>
                <form id="generateForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userName">Nome do Usu치rio:</label>
                            <select id="userName" required>
                                <option value="">Selecione o usu치rio</option>
                                <option value="Caio">Caio</option>
                                <option value="Isadora">Isadora</option>
                                <option value="Vanessa">Vanessa</option>
                                <option value="Brasil">Brasil</option>
                                <option value="Tiago">Tiago</option>
                                <option value="Aurelio">Aurelio</option>
                                <option value="Joathan">Joathan</option>
                                <option value="Maicon">Maicon</option>
                                <option value="Daniel">Daniel</option>
                                <option value="Wagner">Wagner</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="branchNumber">N칰mero da Filial:</label>
                            <input type="text" id="branchNumber" required placeholder="Digite o n칰mero da filial">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="userPassword">Senha do Usu치rio:</label>
                        <input type="password" id="userPassword" required placeholder="Digite a senha do usu치rio selecionado">
                    </div>
                    <button type="submit" class="btn btn-primary">Gerar Credencial</button>
                </form>
                
                <!-- Card de Credencial Gerada -->
                <div id="generatedCredentialCard" class="credential-card hidden">
                    <h3>Credencial Gerada com Sucesso!</h3>
                    <div class="credential-info">
                        <div class="info-row">
                            <span class="info-label">Usu치rio VPN:</span>
                            <div class="info-value-container">
                                <span id="generatedCredential" class="info-value"></span>
                                <button id="copyUserBtn" class="copy-btn" title="Copiar usu치rio e senha">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Senha VPN:</span>
                            <span id="generatedVpnPassword" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Usu치rio do Sistema:</span>
                            <span id="generatedUser" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Filial:</span>
                            <span id="generatedBranch" class="info-value"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Data/Hora:</span>
                            <span id="generatedTimestamp" class="info-value"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Relat칩rio -->
            <div class="section">
                <h2>Relat칩rio</h2>
                <div class="actions-bar">
                    <button id="exportBtn" class="btn btn-success">Exportar Relat칩rio Excel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
